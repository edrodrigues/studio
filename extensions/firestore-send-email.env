# Firebase Extensions Configuration
# Install with: firebase ext:install firestore-send-email --project=your-project-id

# Trigger Email Extension Configuration
# This extension sends emails when documents are added to the 'emailQueue' collection

LOCATION=us-central1
SMTP_CONNECTION_URI=smtps://firebase@example.com:password@smtp.example.com:465
SMTP_PASSWORD=your-smtp-password
DEFAULT_FROM=Assistente de Contratos <noreply@your-domain.com>
DEFAULT_REPLY_TO=support@your-domain.com

# Collection name where emails are queued
MAIL_COLLECTION=emailQueue

# Email templates collection
TEMPLATES_COLLECTION=emailTemplates

# ============================================================================
# SETUP INSTRUCTIONS
# ============================================================================

# 1. Install the extension:
#    firebase ext:install firestore-send-email --project=your-project-id

# 2. Or use the Firebase Console:
#    - Go to Extensions in Firebase Console
#    - Search for "Trigger Email from Firestore"
#    - Click Install
#    - Configure with the settings above

# 3. For SMTP credentials, you can use:
#    - Gmail: smtps://your-email@gmail.com:app-password@smtp.gmail.com:465
#    - SendGrid: smtps://apikey:your-api-key@smtp.sendgrid.net:465
#    - Mailgun: smtps://postmaster@your-domain.com:password@smtp.mailgun.org:465
#    - Custom SMTP server

# 4. Enable less secure apps or use App Passwords for Gmail:
#    - Go to Google Account settings
#    - Enable 2-Factor Authentication
#    - Generate App Password for "Mail"
#    - Use that password in SMTP_CONNECTION_URI

# ============================================================================
# EMAIL DOCUMENT STRUCTURE
# ============================================================================

# To send an email, add a document to the 'emailQueue' collection:
#
# {
#   to: 'recipient@example.com',
#   message: {
#     subject: 'Você foi convidado para colaborar',
#     text: 'Plain text version',
#     html: '<p>HTML version</p>',
#   },
#   template: {
#     name: 'project_invite',
#     data: {
#       projectName: 'Nome do Projeto',
#       invitedBy: 'Nome do Convidante',
#       inviteLink: 'https://app.com/invite/xyz'
#     }
#   }
# }

# ============================================================================
# EMAIL TEMPLATES
# ============================================================================

# Create templates in the 'emailTemplates' collection:
#
# Collection: emailTemplates
# Document ID: project_invite
#
# {
#   subject: 'Convite para colaborar em {{projectName}}',
#   text: 'Olá! {{invitedBy}} convidou você para colaborar no projeto "{{projectName}}". Acesse: {{inviteLink}}',
#   html: '<h1>Convite para colaborar</h1><p>Olá!</p><p><strong>{{invitedBy}}</strong> convidou você para colaborar no projeto "{{projectName}}".</p><a href="{{inviteLink}}" style="...">Aceitar convite</a>'
# }
